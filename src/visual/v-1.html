<!DOCTYPE html>
<html lang="en">

<head>
    <title>Goden Layout</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta http-equiv="Cache-control" content="public">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta description='the note UI base on CUI framework' />
    <meta name="Description" content="Author: Conjee Zou, note">
    <meta name="background-color" content="#333333">
    <meta name="theme-color" content="#ffffff">
    <link rel="manifest" href="%RootUrl%dist/src/visual/src/v-1.json">
    <link rel="shortcut icon" href="%RootUrl%favicon.ico" type="image/x-icon">
    <link href="%RootUrl%dist/src/cui.min.css" type="text/css" rel="stylesheet" />
    <link href="%RootUrl%dist/src/visual/src/v-1.min.css" type="text/css" rel="stylesheet" />
</head>

<body>
    <div id="app">
        <div class="nav-notes">
            <a href="javscript:;" class="nav-notes-top">
                <i class="icon-spinner"></i> <br>
                <span>Back to Home</span></a>
            <a href="javscript:;" class="nav-notes-bottom" v-on:click="loadNext()">
                <i class="icon-spinner"></i> <br>
                <span>View More</span>
            </a>
        </div>

        <div class="comment">
            <div class="comment-input" data-textbox>
                <div class="input large left right">
                    <label for="headerInput">New comments</label>
                    <i class="icon-close" v-on:click='toggleComment(false)'></i>
                    <input id="headerInput" v-model="comment" type="text">
                    <a v-on:click='addComment()' class="btn icon-check">
                    </a>
                </div>
            </div>
            <ul>
                <li v-for="(comment,index) in updateComment.comments">
                    <a href="javascript:;" class="rate" v-on:click="sortBy('count')"><span>{{comment.count}}</span></a>
                    <a href="javascript:;" class="text" v-on:click="sortBy('text')"><span>{{comment.text}}</span></a>
                    <a href="javascript:;" v-on:click="addComment(comment.text,true)"><i class="icon-thumbs-up"></i></a>
                    <a href="javascript:;" v-on:click="addComment(comment.text,false)"><i class="icon-thumbs-down"></i></a>
                </li>
            </ul>
        </div>
        <div class="notes detail" data-view data-jumpback="true" data-snapable="true" data-direction="y" data-oninital='notes.inital' data-onovertop="notes.overtop" data-onoverbottom="notes.overbottom" data-onpushtop="notes.pushtop" data-onpushbottom="notes.pushbottom" data-onchange="notes.change">
            <ul>
                <li class="note-item" v-for="(note, index)  in notes" v-bind:data-id='index'>
                    <div class="note-item-label">
                        <div class="f4">{{ note.title }}</div>
                        <a href="javascript:;" class="f3 text-print" v-on:click="toggleFavorite(note)" v-bind:class="{ checked: note.isFavorite }">
                          <i class="icon-heart "></i> <br>
                          <span data-transition data-once="false" v-bind:data-to="note.heartTo" v-bind:data-from="0">0</span>
                      </a>
                        <a href="javascript:;" class="f3 text-print" v-on:click="toggleComment(true, note.id)">
                          <i class="icon-comment "></i> <br>
                          <span data-transition data-once="false" v-bind:data-to="note.comments.length" v-bind:data-from="0">0</span>
                      </a>
                        <a href="javascript:;" class="f5 text-print">
                          <span data-transition v-bind:data-from="note.dateFrom" v-bind:data-to="note.dateTo" data-dateformat='MM - DD - Y' data-type="date">{{ note.dateFromStr }}</span>
                      </a>
                    </div>
                    <div class="note-item-content">
                        <img v-bind:data-img="note.img" alt="">
                    </div>
                </li>
            </ul>
        </div>
    </div>
</body>
<script src="%RootUrl%dist/src/cui.lib.min.js" type="text/javascript"></script>
<script src="%RootUrl%dist/src/cui.min.js" type="text/javascript"></script>
<script src="%RootUrl%dist/src/visual/src/vue.js" type="text/javascript"></script>
<script src="%RootUrl%dist/src/visual/src/v-1.js" type="text/javascript"></script>
<script>
    window.context = {
        url: '%RootUrl%',
        cdnUrl: '%RootUrl%dist/src/',
        googleMapKey: 'key=AIzaSyBtspK44Jc-DabkyA6knFuQ6LSp_8VXZgc'
    };

    navigator.serviceWorker.register(window.context.url + 'sw.js')
        .then(function(registration) {
            console.log("Service worker registered, scope: " + registration.scope);
        })
        .catch(function(error) {
            console.log("Service worker registration failed: " + error.message);
        });
</script>

</html>
